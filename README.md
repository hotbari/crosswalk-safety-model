# 횡단보도 신호시간과 사고 발생 상관관계 및 예측 분석

## 프로젝트 개요

동작구 횡단보도 및 교통사고 데이터를 활용하여  
**녹색신호시간(보행자 신호 길이)과 사고 발생의 상관관계**를 분석하고,  
머신러닝(RandomForest) 모델을 통해 사고 발생 여부를 예측한다.

### 주요 목표
- **가설 검증:** 보행자 녹샌신호시간이 길수록 사고 발생률이 감소한다.
- **최적 신호시간 도출:** 사고 발생 확률이 충분히 낮아지는 신호시간 제안
- **사고감소율 시뮬레이션:** 신호시간 연장 시 사고 감소 효과 산출
- **머신러닝 예측:** 랜덤포레스트로 사고 발생 여부 예측 및 변수 중요도 분석

---

## 데이터 설명

- **주요 컬럼:**  
  - `green_signal_time` : 횡단보도 녹색신호시간(초)
  - `acc_count` : 해당 횡단보도에서 발생한 사고 건수
  - `is_accident` : 사고 발생 여부(0/1, acc_count > 0이면 1)
  - `차로수`, `횡단보도폭`, `보행자신호등유무`, `집중조명시설유무` 등

---

## 분석 및 예측 흐름

1. **데이터 전처리**
   - 결측치(NaN) 제거
   - 사고 발생 여부(`is_accident`) 파생 변수 생성
   - 범주형 변수('Y'/'N')를 0/1로 변환

2. **상관관계 및 회귀분석**
   - 피어슨/스피어만 상관계수로 신호시간-사고수 상관관계 확인
   - 로지스틱 회귀로 신호시간 연장 시 사고 발생률 감소 가설 검증
   - 완벽 분리(perfect separation) 현상 발생 시 해석 및 한계 명시

   | 상관계수 종류     | 값     | p-value  |
   |------------------|--------|----------|
   | 피어슨 상관계수   | -0.27  | 0.002    |
   | 스피어만 상관계수 | -0.21  | 0.019    |

   [!docs/ols_regression_results.png]

3. **머신러닝(RandomForest) 예측**
   - 랜덤포레스트 분류기로 사고 발생 여부 예측
   - 교차검증(5-fold)으로 일반화 성능 평가
   - 변수 중요도(feature importance) 분석

   [!docs/rf_colums_relation_pyplot_output.png]

4. **시각화 및 보고서 작성**
   - 신호시간-사고수 산점도, 예측 확률 곡선 등 시각화
   - 데이터 한계 및 정책적 시사점 명확히 기술


---

## 한계 및 시사점

- **데이터가 완벽 분리되어 로지스틱 회귀에서 perfect separation 경고가 발생**  
  → 현재 데이터에서는 신호시간 등 주요 변수로 사고 발생 여부를 완벽히 예측할 수 있음  
  → 하지만, 표본 수가 제한적이고 추가 데이터 확보가 불가능하므로, 결과의 일반화에는 신중을 기할 필요가 있음